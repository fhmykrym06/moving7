<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مراجعات شركات نقل العفش في جدة | تقييمات حقيقية من العملاء</title>
    <meta name="description" content="اقرأ مراجعات وتقييمات حقيقية من العملاء عن شركات نقل العفش في جدة. تقييمات موثقة وتجارب حقيقية تساعدك في اتخاذ القرار الصحيح.">
    <meta name="keywords" content="مراجعات شركات نقل العفش, تقييمات النقل جدة, تجارب العملاء, مراجعات موثقة">
    
    <!-- Open Graph -->
    <meta property="og:title" content="مراجعات شركات نقل العفش في جدة">
    <meta property="og:description" content="تقييمات ومراجعات حقيقية من العملاء عن أفضل شركات نقل العفش">
    <meta property="og:image" content="public/images/furniture_moving_services_jeddah_professionals.jpg">
    <meta property="og:type" content="website">
    
    <!-- Fonts and Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <style>
        :root {
            --primary-blue: #1A237E;
            --secondary-blue: #42A5F5;
            --gold: #FFD700;
            --light-gray: #F5F5F5;
            --dark-gray: #333333;
            --success-green: #4CAF50;
            --warning-red: #F44336;
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--light-gray);
            color: var(--dark-gray);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--gold);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-link {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--gold);
        }

        /* Page Header */
        .page-header {
            background: white;
            padding: 3rem 0;
            text-align: center;
        }

        .page-title {
            color: var(--primary-blue);
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .page-subtitle {
            color: var(--dark-gray);
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 2rem;
        }

        .write-review-btn {
            background: var(--success-green);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            text-decoration: none;
            font-weight: 600;
            transition: background 0.3s;
            font-size: 1.1rem;
        }

        .write-review-btn:hover {
            background: #45a049;
        }

        /* Stats Section */
        .stats-section {
            background: white;
            padding: 2rem 0;
            border-bottom: 1px solid var(--light-gray);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            text-align: center;
        }

        .stat-item {
            padding: 1rem;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-blue);
            display: block;
        }

        .stat-label {
            color: var(--dark-gray);
            margin-top: 0.5rem;
        }

        /* Filters Section */
        .filters-section {
            background: white;
            padding: 2rem 0;
            border-bottom: 1px solid var(--light-gray);
        }

        .filters-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr auto;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .search-input, .filter-select {
            padding: 1rem;
            border: 2px solid var(--light-gray);
            border-radius: 10px;
            font-size: 1rem;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-blue);
        }

        .filter-select {
            background: white;
        }

        .filter-btn {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .filter-btn:hover {
            background: var(--secondary-blue);
        }

        .quick-filters {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .quick-filter {
            background: var(--light-gray);
            color: var(--dark-gray);
            padding: 0.5rem 1rem;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s;
            font-size: 0.9rem;
            border: none;
            cursor: pointer;
        }

        .quick-filter:hover, .quick-filter.active {
            background: var(--primary-blue);
            color: white;
        }

        /* Reviews Section */
        .reviews-section {
            padding: 3rem 0;
        }

        .reviews-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .reviews-count {
            color: var(--dark-gray);
            font-size: 1.1rem;
        }

        .sort-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .reviews-grid {
            display: grid;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .review-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .review-card:hover {
            transform: translateY(-2px);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .reviewer-info {
            display: flex;
            gap: 1rem;
        }

        .reviewer-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .reviewer-details h4 {
            color: var(--primary-blue);
            font-weight: 600;
            margin-bottom: 0.2rem;
        }

        .reviewer-details p {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .review-meta {
            text-align: left;
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .company-info {
            background: var(--light-gray);
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
        }

        .company-name {
            color: var(--primary-blue);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .service-type {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .rating-section {
            margin-bottom: 1rem;
        }

        .overall-rating {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .rating-stars {
            display: flex;
            gap: 0.2rem;
        }

        .star {
            color: var(--gold);
            font-size: 1.2rem;
        }

        .star.empty {
            color: var(--light-gray);
        }

        .rating-value {
            font-weight: 700;
            color: var(--primary-blue);
        }

        .detailed-ratings {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .rating-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
        }

        .rating-label {
            color: var(--dark-gray);
        }

        .rating-bar {
            flex: 1;
            margin: 0 1rem;
            height: 6px;
            background: var(--light-gray);
            border-radius: 3px;
            overflow: hidden;
        }

        .rating-fill {
            height: 100%;
            background: var(--gold);
            transition: width 0.3s;
        }

        .review-text {
            margin-bottom: 1.5rem;
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .review-highlights {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .highlight-section {
            flex: 1;
        }

        .highlight-title {
            font-weight: 600;
            color: var(--success-green);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .highlight-title.negative {
            color: var(--warning-red);
        }

        .highlight-list {
            list-style: none;
        }

        .highlight-list li {
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
            padding-right: 1rem;
            position: relative;
        }

        .highlight-list li::before {
            content: '•';
            position: absolute;
            right: 0;
            color: var(--success-green);
        }

        .negative .highlight-list li::before {
            color: var(--warning-red);
        }

        .review-images {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .review-image {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .review-image:hover {
            transform: scale(1.05);
        }

        .review-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid var(--light-gray);
        }

        .verification-badge {
            background: var(--success-green);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .review-actions {
            display: flex;
            gap: 1rem;
        }

        .action-btn {
            background: none;
            border: none;
            color: var(--dark-gray);
            cursor: pointer;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            gap: 0.3rem;
            font-size: 0.9rem;
        }

        .action-btn:hover {
            color: var(--primary-blue);
        }

        .action-btn.active {
            color: var(--primary-blue);
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 3rem;
        }

        .page-btn {
            padding: 0.8rem 1.2rem;
            border: 1px solid var(--light-gray);
            background: white;
            color: var(--dark-gray);
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.3s;
        }

        .page-btn:hover, .page-btn.active {
            background: var(--primary-blue);
            color: white;
            border-color: var(--primary-blue);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .filters-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-links {
                display: none;
            }
            
            .reviews-header {
                flex-direction: column;
                gap: 1rem;
            }
            
            .review-header {
                flex-direction: column;
                gap: 1rem;
            }
            
            .detailed-ratings {
                grid-template-columns: 1fr;
            }
            
            .review-highlights {
                flex-direction: column;
            }
        }
    </style>
</head>
<body x-data="reviewsApp()">
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="logo">
                <i class="fas fa-star"></i> نقل العفش جدة
            </a>
            <nav class="nav-links">
                <a href="index.html" class="nav-link">الرئيسية</a>
                <a href="companies.html" class="nav-link">دليل الشركات</a>
                <a href="compare.html" class="nav-link">مقارنة</a>
                <a href="reviews.html" class="nav-link active">المراجعات</a>
                <a href="blog/index.html" class="nav-link">المدونة</a>
                <a href="contact.html" class="nav-link">اتصل بنا</a>
            </nav>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1 class="page-title">مراجعات العملاء</h1>
            <p class="page-subtitle">تقييمات حقيقية من عملاء شركات نقل العفش في جدة</p>
            <a href="#write-review" class="write-review-btn">
                <i class="fas fa-plus"></i> اكتب مراجعة
            </a>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number" x-text="stats.totalReviews">2,543</span>
                    <div class="stat-label">إجمالي المراجعات</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" x-text="stats.verifiedReviews">1,987</span>
                    <div class="stat-label">مراجعة موثقة</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" x-text="stats.averageRating">4.3</span>
                    <div class="stat-label">متوسط التقييم</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" x-text="stats.responseRate">94%</span>
                    <div class="stat-label">معدل الرد</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Filters Section -->
    <section class="filters-section">
        <div class="container">
            <div class="filters-grid">
                <input type="text" class="search-input" placeholder="ابحث في المراجعات..." x-model="searchQuery">
                <select class="filter-select" x-model="filters.company">
                    <option value="">جميع الشركات</option>
                    <option value="1">شركة البراق</option>
                    <option value="2">شركة الصقر</option>
                    <option value="3">النورس للنقل</option>
                </select>
                <select class="filter-select" x-model="filters.rating">
                    <option value="">جميع التقييمات</option>
                    <option value="5">5 نجوم</option>
                    <option value="4">4+ نجوم</option>
                    <option value="3">3+ نجوم</option>
                    <option value="2">2+ نجوم</option>
                    <option value="1">نجمة واحدة</option>
                </select>
                <select class="filter-select" x-model="filters.verified">
                    <option value="">جميع المراجعات</option>
                    <option value="true">موثقة فقط</option>
                    <option value="false">غير موثقة فقط</option>
                </select>
                <button class="filter-btn" @click="applyFilters()">
                    <i class="fas fa-filter"></i> تطبيق
                </button>
            </div>

            <div class="quick-filters">
                <button class="quick-filter" :class="{'active': quickFilter === 'all'}" @click="setQuickFilter('all')">الكل</button>
                <button class="quick-filter" :class="{'active': quickFilter === 'recent'}" @click="setQuickFilter('recent')">الأحدث</button>
                <button class="quick-filter" :class="{'active': quickFilter === 'high-rated'}" @click="setQuickFilter('high-rated')">عالية التقييم</button>
                <button class="quick-filter" :class="{'active': quickFilter === 'verified'}" @click="setQuickFilter('verified')">موثقة</button>
                <button class="quick-filter" :class="{'active': quickFilter === 'with-images'}" @click="setQuickFilter('with-images')">مع صور</button>
            </div>
        </div>
    </section>

    <!-- Reviews Section -->
    <section class="reviews-section">
        <div class="container">
            <div class="reviews-header">
                <div class="reviews-count">
                    <span x-text="filteredReviews.length">2543</span> مراجعة متاحة
                </div>
                <div class="sort-controls">
                    <label>ترتيب حسب:</label>
                    <select class="filter-select" x-model="sortBy">
                        <option value="date">التاريخ</option>
                        <option value="rating">التقييم</option>
                        <option value="helpful">الأكثر إفادة</option>
                    </select>
                </div>
            </div>

            <div class="reviews-grid">
                <template x-for="review in paginatedReviews" :key="review.id">
                    <div class="review-card">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar" x-text="review.reviewer.name.charAt(0)"></div>
                                <div class="reviewer-details">
                                    <h4 x-text="review.reviewer.name"></h4>
                                    <p x-text="review.reviewer.location"></p>
                                </div>
                            </div>
                            <div class="review-meta">
                                <div x-text="review.date"></div>
                                <div x-show="review.verified" style="color: var(--success-green); margin-top: 0.2rem;">
                                    <i class="fas fa-check-circle"></i> موثقة
                                </div>
                            </div>
                        </div>

                        <div class="company-info">
                            <div class="company-name" x-text="review.company.name"></div>
                            <div class="service-type" x-text="review.serviceType"></div>
                        </div>

                        <div class="rating-section">
                            <div class="overall-rating">
                                <div class="rating-stars">
                                    <template x-for="i in 5" :key="i">
                                        <i class="fas fa-star star" :class="{'empty': i > review.rating.overall}"></i>
                                    </template>
                                </div>
                                <span class="rating-value" x-text="review.rating.overall + '/5'"></span>
                            </div>

                            <div class="detailed-ratings">
                                <div class="rating-item">
                                    <span class="rating-label">جودة الخدمة</span>
                                    <div class="rating-bar">
                                        <div class="rating-fill" :style="'width: ' + (review.rating.quality * 20) + '%'"></div>
                                    </div>
                                    <span x-text="review.rating.quality"></span>
                                </div>
                                <div class="rating-item">
                                    <span class="rating-label">الالتزام بالوقت</span>
                                    <div class="rating-bar">
                                        <div class="rating-fill" :style="'width: ' + (review.rating.punctuality * 20) + '%'"></div>
                                    </div>
                                    <span x-text="review.rating.punctuality"></span>
                                </div>
                                <div class="rating-item">
                                    <span class="rating-label">التعامل مع الأثاث</span>
                                    <div class="rating-bar">
                                        <div class="rating-fill" :style="'width: ' + (review.rating.handling * 20) + '%'"></div>
                                    </div>
                                    <span x-text="review.rating.handling"></span>
                                </div>
                                <div class="rating-item">
                                    <span class="rating-label">الشفافية السعرية</span>
                                    <div class="rating-bar">
                                        <div class="rating-fill" :style="'width: ' + (review.rating.pricing * 20) + '%'"></div>
                                    </div>
                                    <span x-text="review.rating.pricing"></span>
                                </div>
                            </div>
                        </div>

                        <div class="review-text" x-text="review.text"></div>

                        <div class="review-highlights" x-show="review.pros.length > 0 || review.cons.length > 0">
                            <div class="highlight-section" x-show="review.pros.length > 0">
                                <div class="highlight-title">
                                    <i class="fas fa-thumbs-up"></i> نقاط القوة
                                </div>
                                <ul class="highlight-list">
                                    <template x-for="pro in review.pros" :key="pro">
                                        <li x-text="pro"></li>
                                    </template>
                                </ul>
                            </div>
                            <div class="highlight-section negative" x-show="review.cons.length > 0">
                                <div class="highlight-title negative">
                                    <i class="fas fa-thumbs-down"></i> نقاط للتحسين
                                </div>
                                <ul class="highlight-list">
                                    <template x-for="con in review.cons" :key="con">
                                        <li x-text="con"></li>
                                    </template>
                                </ul>
                            </div>
                        </div>

                        <div class="review-images" x-show="review.images && review.images.length > 0">
                            <template x-for="image in review.images" :key="image">
                                <img :src="image" :alt="'صور من مراجعة ' + review.reviewer.name" class="review-image">
                            </template>
                        </div>

                        <div class="review-footer">
                            <div class="verification-badge" x-show="review.verified">
                                <i class="fas fa-shield-alt"></i>
                                مراجعة موثقة
                            </div>
                            <div class="review-actions">
                                <button class="action-btn" @click="toggleHelpful(review.id)" :class="{'active': review.helpful}">
                                    <i class="fas fa-thumbs-up"></i>
                                    مفيدة (<span x-text="review.helpfulCount"></span>)
                                </button>
                                <button class="action-btn" @click="reportReview(review.id)">
                                    <i class="fas fa-flag"></i>
                                    إبلاغ
                                </button>
                                <button class="action-btn" @click="shareReview(review.id)">
                                    <i class="fas fa-share"></i>
                                    مشاركة
                                </button>
                            </div>
                        </div>
                    </div>
                </template>
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <a href="#" class="page-btn" @click="prevPage()" x-show="currentPage > 1">
                    <i class="fas fa-chevron-right"></i>
                </a>
                <template x-for="page in totalPages" :key="page">
                    <a href="#" class="page-btn" :class="{'active': page === currentPage}" @click="goToPage(page)" x-text="page"></a>
                </template>
                <a href="#" class="page-btn" @click="nextPage()" x-show="currentPage < totalPages">
                    <i class="fas fa-chevron-left"></i>
                </a>
            </div>
        </div>
    </section>

    <script>
        function reviewsApp() {
            return {
                searchQuery: '',
                filters: {
                    company: '',
                    rating: '',
                    verified: ''
                },
                quickFilter: 'all',
                sortBy: 'date',
                currentPage: 1,
                itemsPerPage: 10,

                stats: {
                    totalReviews: 2543,
                    verifiedReviews: 1987,
                    averageRating: 4.3,
                    responseRate: 94
                },

                reviews: [
                    {
                        id: 1,
                        reviewer: {
                            name: 'أحمد محمد',
                            location: 'حي الروضة، جدة'
                        },
                        company: {
                            id: 1,
                            name: 'شركة البراق لنقل العفش'
                        },
                        serviceType: 'نقل منزلي - شقة 3 غرف',
                        date: '15 ديسمبر 2024',
                        verified: true,
                        rating: {
                            overall: 5,
                            quality: 5,
                            punctuality: 5,
                            handling: 4,
                            pricing: 5
                        },
                        text: 'تجربة ممتازة مع شركة البراق. الفريق كان محترف جداً والتزموا بالموعد. تم تغليف الأثاث بعناية فائقة ولم يحدث أي تلف. الأسعار كانت منطقية جداً مقارنة بالخدمة المقدمة. أنصح بها بشدة.',
                        pros: ['دقة في المواعيد', 'فريق محترف', 'أسعار منطقية', 'تغليف ممتاز'],
                        cons: [],
                        images: ['public/images/furniture_packing_moving_jeddah.jpg'],
                        helpful: false,
                        helpfulCount: 23
                    },
                    {
                        id: 2,
                        reviewer: {
                            name: 'فاطمة علي',
                            location: 'حي العزيزية، جدة'
                        },
                        company: {
                            id: 2,
                            name: 'شركة الصقر للنقل'
                        },
                        serviceType: 'نقل منزلي - فيلا',
                        date: '12 ديسمبر 2024',
                        verified: true,
                        rating: {
                            overall: 4,
                            quality: 4,
                            punctuality: 3,
                            handling: 5,
                            pricing: 4
                        },
                        text: 'خدمة جيدة بشكل عام. الفريق كان ماهر في التعامل مع الأثاث الثقيل. كان هناك تأخير بسيط في الوصول لكن تم تعويضه بسرعة العمل. السعر كان معقول.',
                        pros: ['مهارة في التعامل مع الأثاث الثقيل', 'فريق عمل قوي', 'سعر معقول'],
                        cons: ['تأخير بسيط في الوصول'],
                        images: [],
                        helpful: false,
                        helpfulCount: 15
                    },
                    {
                        id: 3,
                        reviewer: {
                            name: 'خالد السعودي',
                            location: 'حي النزهة، جدة'
                        },
                        company: {
                            id: 3,
                            name: 'النورس لخدمات النقل'
                        },
                        serviceType: 'نقل تجاري - مكتب',
                        date: '10 ديسمبر 2024',
                        verified: false,
                        rating: {
                            overall: 5,
                            quality: 5,
                            punctuality: 5,
                            handling: 5,
                            pricing: 4
                        },
                        text: 'أفضل شركة نقل تعاملت معها. نقلوا مكتبي بالكامل دون أي مشاكل. الفريق محترف والخدمة سريعة. التعامل راقي جداً.',
                        pros: ['احترافية عالية', 'سرعة في الخدمة', 'فريق مدرب'],
                        cons: ['الأسعار أعلى قليلاً من المنافسين'],
                        images: ['public/images/business_relocation_experts_jeddah_ksa.jpg'],
                        helpful: false,
                        helpfulCount: 31
                    }
                ],

                get filteredReviews() {
                    let filtered = this.reviews;

                    // Search filter
                    if (this.searchQuery) {
                        filtered = filtered.filter(review => 
                            review.text.includes(this.searchQuery) ||
                            review.company.name.includes(this.searchQuery) ||
                            review.reviewer.name.includes(this.searchQuery)
                        );
                    }

                    // Company filter
                    if (this.filters.company) {
                        filtered = filtered.filter(review => review.company.id == this.filters.company);
                    }

                    // Rating filter
                    if (this.filters.rating) {
                        filtered = filtered.filter(review => review.rating.overall >= parseInt(this.filters.rating));
                    }

                    // Verified filter
                    if (this.filters.verified !== '') {
                        filtered = filtered.filter(review => review.verified === (this.filters.verified === 'true'));
                    }

                    // Quick filters
                    switch(this.quickFilter) {
                        case 'recent':
                            // Sort by date (most recent first)
                            break;
                        case 'high-rated':
                            filtered = filtered.filter(review => review.rating.overall >= 4);
                            break;
                        case 'verified':
                            filtered = filtered.filter(review => review.verified);
                            break;
                        case 'with-images':
                            filtered = filtered.filter(review => review.images && review.images.length > 0);
                            break;
                    }

                    // Sort
                    filtered.sort((a, b) => {
                        switch(this.sortBy) {
                            case 'rating':
                                return b.rating.overall - a.rating.overall;
                            case 'helpful':
                                return b.helpfulCount - a.helpfulCount;
                            case 'date':
                            default:
                                return new Date(b.date) - new Date(a.date);
                        }
                    });

                    return filtered;
                },

                get totalPages() {
                    return Math.ceil(this.filteredReviews.length / this.itemsPerPage);
                },

                get paginatedReviews() {
                    const start = (this.currentPage - 1) * this.itemsPerPage;
                    const end = start + this.itemsPerPage;
                    return this.filteredReviews.slice(start, end);
                },

                setQuickFilter(filter) {
                    this.quickFilter = filter;
                    this.currentPage = 1;
                },

                applyFilters() {
                    this.currentPage = 1;
                },

                goToPage(page) {
                    this.currentPage = page;
                    window.scrollTo(0, 0);
                },

                nextPage() {
                    if (this.currentPage < this.totalPages) {
                        this.currentPage++;
                        window.scrollTo(0, 0);
                    }
                },

                prevPage() {
                    if (this.currentPage > 1) {
                        this.currentPage--;
                        window.scrollTo(0, 0);
                    }
                },

                toggleHelpful(reviewId) {
                    const review = this.reviews.find(r => r.id === reviewId);
                    if (review) {
                        if (review.helpful) {
                            review.helpful = false;
                            review.helpfulCount--;
                        } else {
                            review.helpful = true;
                            review.helpfulCount++;
                        }
                    }
                },

                reportReview(reviewId) {
                    alert('تم إرسال البلاغ. سيتم مراجعة المراجعة من قبل فريقنا.');
                },

                shareReview(reviewId) {
                    if (navigator.share) {
                        navigator.share({
                            title: 'مراجعة عن شركة نقل العفش',
                            url: `${window.location.href}#review-${reviewId}`
                        });
                    } else {
                        const url = `${window.location.href}#review-${reviewId}`;
                        navigator.clipboard.writeText(url).then(() => {
                            alert('تم نسخ رابط المراجعة');
                        });
                    }
                }
            }
        }
    </script>
</body>
</html> 